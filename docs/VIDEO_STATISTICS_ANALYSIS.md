# 動画データ統計分析レポート

**分析日**: 2026-01-03
**対象データ**: 利用可能な動画ファイル（is_available = 1）

## 概要

このドキュメントは、ClipBoxに登録されている動画ファイルのレベル別統計分析結果をまとめたものです。個別の動画情報（タイトル、ファイルパス等）は含まず、統計的な集計結果のみを記載しています。

## 分析条件

### データソース
- **データベース**: `data/videos.db`
- **対象テーブル**: `videos`, `viewing_history`
- **フィルタ条件**: `is_available = 1`（利用可能な動画のみ）
- **分析日時**: 2026-01-03

### 集計項目
1. **レベル別集計**: ファイル数、ファイルサイズ（合計・平均）、視聴回数（総計・平均・最大）
2. **保管場所別集計**: ファイル数、ファイルサイズ、平均視聴回数
3. **相関分析**: レベル、ファイルサイズ、視聴回数の相関係数

## 全体統計

### 基本統計量

| 指標 | 値 |
|------|-----|
| 総動画数 | 3,739 ファイル |
| 総ストレージ使用量 | 5,231.97 GB (約5.1 TB) |
| 総視聴回数 | 215 回 |
| 平均視聴回数 | 0.06 回/ファイル |
| 視聴済み動画数 | 89 ファイル (2.4%) |
| 未視聴動画数 | 3,650 ファイル (97.6%) |

### 主要な発見事項

1. **大規模なコレクション**: 約3,700本の動画を管理、総容量は5TB超
2. **低い視聴率**: 視聴済み動画は全体の2.4%のみ（89/3,739）
3. **平均ファイルサイズ**: 約1.4 GB/ファイル

## レベル別統計

### レベル0（プレフィックスなし）

| 指標 | 値 |
|------|-----|
| ファイル数 | 1,293 (34.6%) |
| サイズ合計 | 1,805.52 GB |
| 平均サイズ | 1,429.89 MB |
| 総視聴回数 | 104 回 |
| 平均視聴回数 | 0.08 回 |
| 最大視聴回数 | 3 回 |

**特徴**: 最もファイル数が多いカテゴリ。総視聴回数も最大。

### レベル1（#プレフィックス）

| 指標 | 値 |
|------|-----|
| ファイル数 | 1,251 (33.5%) |
| サイズ合計 | 1,690.17 GB |
| 平均サイズ | 1,383.48 MB |
| 総視聴回数 | 31 回 |
| 平均視聴回数 | 0.02 回 |
| 最大視聴回数 | 5 回 |

**特徴**: レベル0に次ぐファイル数。視聴頻度は低め。

### レベル2（##プレフィックス）

| 指標 | 値 |
|------|-----|
| ファイル数 | 835 (22.3%) |
| サイズ合計 | 1,140.99 GB |
| 平均サイズ | 1,399.25 MB |
| 総視聴回数 | 31 回 |
| 平均視聴回数 | 0.04 回 |
| 最大視聴回数 | 7 回 |

**特徴**: ファイル数は減少するが、最大視聴回数は増加傾向。

### レベル3（###プレフィックス）

| 指標 | 値 |
|------|-----|
| ファイル数 | 360 (9.6%) |
| サイズ合計 | 595.29 GB |
| 平均サイズ | 1,693.26 MB |
| 総視聴回数 | 49 回 |
| 平均視聴回数 | 0.14 回 |
| 最大視聴回数 | 7 回 |

**特徴**:
- ファイル数は最少だが、**平均視聴回数が最高**（0.14回）
- 平均ファイルサイズが最大（1,693 MB）
- 重要度・優先度の高いコンテンツを示唆

### レベル別分布の傾向

```
レベル  ファイル数  割合    平均視聴回数
--------------------------------------------
0       1,293     34.6%   0.08
1       1,251     33.5%   0.02
2         835     22.3%   0.04
3         360      9.6%   0.14 ★最高
```

**観察結果**:
- レベルが上がるにつれてファイル数は減少
- レベル3の平均視聴回数が突出して高い（0.14回）
- レベル分けが視聴頻度と相関している可能性

## 保管場所別統計

### C_DRIVE（内蔵ドライブ）

| 指標 | 値 |
|------|-----|
| ファイル数 | 149 (4.0%) |
| サイズ合計 | 177.64 GB |
| 平均視聴回数 | **0.64 回** |

**特徴**:
- ファイル数は少ないが、**平均視聴回数が極めて高い**（0.64回）
- アクセス頻度の高いファイルを選別して配置
- 高速アクセスが必要なコンテンツの適切な管理

### EXTERNAL_HDD（外付けHDD）

| 指標 | 値 |
|------|-----|
| ファイル数 | 3,590 (96.0%) |
| サイズ合計 | 5,054.33 GB |
| 平均視聴回数 | 0.03 回 |

**特徴**:
- 大多数のファイルを保管（96%）
- 総容量の大部分を占める（5 TB超）
- 長期保管・アーカイブ用途

### 保管場所の使い分け

**C_DRIVEの平均視聴回数（0.64）はEXTERNAL_HDD（0.03）の約21倍**であり、アクセス頻度に基づいた適切な配置が行われていることが確認できます。

## 相関分析結果

### 相関係数マトリクス

|  | レベル | ファイルサイズ | 視聴回数 |
|---|--------|----------------|----------|
| **レベル** | 1.000 | 0.065 | 0.007 |
| **ファイルサイズ** | 0.065 | 1.000 | 0.020 |
| **視聴回数** | 0.007 | 0.020 | 1.000 |

### 解釈

**レベル vs ファイルサイズ（r = 0.065）**
- ほぼ無相関
- レベルはファイルサイズとは独立した管理基準
- コンテンツの品質・重要度で分類されている

**レベル vs 視聴回数（r = 0.007）**
- 全体では相関がほとんどない
- ただし、レベル3の平均視聴回数は他より高い傾向（個別分析参照）

**ファイルサイズ vs 視聴回数（r = 0.020）**
- ほぼ無相関
- ファイルサイズは視聴行動に影響しない

## 視聴パターンの分析

### 視聴率の現状

- **全体視聴率**: 2.4%（89/3,739）
- **総視聴回数**: 215回
- **視聴あり動画の平均**: 2.42回/ファイル（215÷89）

### レベル別視聴率の比較

視聴済み動画の推定分布（総視聴回数から算出）:
- レベル0: 104回（48.4%）- 最多
- レベル1: 31回（14.4%）
- レベル2: 31回（14.4%）
- レベル3: 49回（22.8%）

**注目点**: レベル3はファイル数が9.6%しかないにも関わらず、視聴回数では22.8%を占めており、**選択的に視聴されている**ことが分かります。

## 推奨事項

### 1. ストレージ最適化

**優先度: 高**
- 未視聴ファイル（3,650本、97.6%）の見直し
- 視聴可能性の低いファイルの整理・アーカイブ化検討
- 約5TBのストレージ使用量の削減可能性

### 2. レベル管理の改善

**優先度: 中**
- レベル3の高視聴率（平均0.14回）を参考に、他のレベルからの昇格候補を検討
- 視聴回数に基づく自動レベル調整の導入検討
- レベル1とレベル2の視聴パターンが類似（平均0.02-0.04回）→統合の検討余地

### 3. 保管場所の最適化

**優先度: 高**
- C_DRIVEの高い平均視聴回数（0.64回）を維持
- EXTERNAL_HDDから視聴頻度の高いファイルをC_DRIVEへ移動
- 現在149ファイルのC_DRIVE容量に余裕があれば、追加配置を検討

### 4. データ品質管理

**優先度: 中**
- 定期的なスキャンによる is_available フラグの検証
- ファイルサイズ情報の整合性確認
- 視聴履歴の継続的な記録と分析

## 分析ツールと手法

### 使用ツール
- **Jupyter Notebook**: データ分析とグラフ作成（`video_analysis.ipynb`）
- **Python ライブラリ**:
  - pandas: データ処理
  - matplotlib: グラフ描画（日本語フォント対応）
  - seaborn: 統計的可視化
  - sqlite3: データベース接続

### 分析手法
1. SQL クエリによるデータ抽出
2. pandas による集計・統計処理
3. 相関係数の算出
4. 可視化（棒グラフ、円グラフ、箱ひげ図、ヒートマップ）

### セキュリティとプライバシー

**重要**:
- 分析ノートブック（`video_analysis.ipynb`）は個人情報を含むため、`.gitignore`で管理
- このレポートには個別の動画タイトルやファイルパスは一切含まれていません
- 全てのデータは統計的に集計されています

## まとめ

### 主要な知見

1. **大規模コレクション**: 3,739本、5.1TB の動画を管理
2. **低視聴率**: 97.6%が未視聴（コンテンツ整理の機会）
3. **レベル3の重要性**: ファイル数9.6%ながら視聴回数22.8%を占める
4. **効果的な保管場所管理**: C_DRIVEの平均視聴回数はEXTERNAL_HDDの21倍
5. **レベルとサイズの独立性**: 相関係数0.065、独立した分類基準

### 次のステップ

1. 未視聴ファイルの定期的な見直しと整理
2. 視聴データに基づくレベル自動調整機能の検討
3. C_DRIVEへの追加配置候補の選定
4. 継続的なモニタリングと分析の実施

---

**更新履歴**
- 2026-01-03: 初版作成（対象: 3,739ファイル、5,231.97 GB）
